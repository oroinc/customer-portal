- [CommerceMenuBundle](#commercemenubundle)
- [CustomerBundle](#customerbundle)
- [FrontendAttachmentBundle](#frontendattachmentbundle)
- [FrontendBundle](#frontendbundle)
- [WebsiteBundle](#websitebundle)

CommerceMenuBundle
------------------
* The `MenuExtension::getName`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CommerceMenuBundle/Twig/MenuExtension.php#L45 "Oro\Bundle\CommerceMenuBundle\Twig\MenuExtension::getName")</sup> method was removed.
* The `AbstractFrontendMenuController::getMenuUpdateManager`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CommerceMenuBundle/Controller/AbstractFrontendMenuController.php#L13 "Oro\Bundle\CommerceMenuBundle\Controller\AbstractFrontendMenuController::getMenuUpdateManager")</sup> method was removed.
* The `MenuExtension::getUrl($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CommerceMenuBundle/Twig/MenuExtension.php#L87 "Oro\Bundle\CommerceMenuBundle\Twig\MenuExtension")</sup> method was changed to `MenuExtension::getUrl($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CommerceMenuBundle/Twig/MenuExtension.php#L53 "Oro\Bundle\CommerceMenuBundle\Twig\MenuExtension")</sup>
* The `MenuProvider::getMenu($menuName, $options = [ ... ])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CommerceMenuBundle/Layout/DataProvider/MenuProvider.php#L29 "Oro\Bundle\CommerceMenuBundle\Layout\DataProvider\MenuProvider")</sup> method was changed to `MenuProvider::getMenu($menuName, $options = [ ... ])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CommerceMenuBundle/Layout/DataProvider/MenuProvider.php#L26 "Oro\Bundle\CommerceMenuBundle\Layout\DataProvider\MenuProvider")</sup>

CustomerBundle
--------------
* The following classes were removed:
   - `EmailCaseInsensitiveOptionConstraint`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Validator/Constraints/EmailCaseInsensitiveOptionConstraint.php#L10 "Oro\Bundle\CustomerBundle\Validator\Constraints\EmailCaseInsensitiveOptionConstraint")</sup>
   - `CountryRegionsController`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Controller/Frontend/Api/Rest/CountryRegionsController.php#L16 "Oro\Bundle\CustomerBundle\Controller\Frontend\Api\Rest\CountryRegionsController")</sup>
   - `EntityDataController`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Controller/Frontend/Api/Rest/EntityDataController.php#L13 "Oro\Bundle\CustomerBundle\Controller\Frontend\Api\Rest\EntityDataController")</sup>
   - `FrontendWindowsStateController`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Controller/Api/Rest/FrontendWindowsStateController.php#L15 "Oro\Bundle\CustomerBundle\Controller\Api\Rest\FrontendWindowsStateController")</sup>
* The `CustomerUserWithoutRole::validatedBy`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Validator/Constraints/CustomerUserWithoutRole.php#L12 "Oro\Bundle\CustomerBundle\Validator\Constraints\CustomerUserWithoutRole::validatedBy")</sup> method was removed.
* The `CustomerUserWithoutRoleValidator::isUserValid`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Validator/Constraints/CustomerUserWithoutRoleValidator.php#L15 "Oro\Bundle\CustomerBundle\Validator\Constraints\CustomerUserWithoutRoleValidator::isUserValid")</sup> method was removed.
* The `CustomerExtension::getName`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Twig/CustomerExtension.php#L98 "Oro\Bundle\CustomerBundle\Twig\CustomerExtension::getName")</sup> method was removed.
* The `AnonymousCustomerUserAuthenticationListener::handle`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Security/Firewall/AnonymousCustomerUserAuthenticationListener.php#L96 "Oro\Bundle\CustomerBundle\Security\Firewall\AnonymousCustomerUserAuthenticationListener::handle")</sup> method was removed.
* The following methods in class `FrontendOwnershipMetadata`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Owner/Metadata/FrontendOwnershipMetadata.php#L114 "Oro\Bundle\CustomerBundle\Owner\Metadata\FrontendOwnershipMetadata")</sup> were removed:
   - `serialize`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Owner/Metadata/FrontendOwnershipMetadata.php#L114 "Oro\Bundle\CustomerBundle\Owner\Metadata\FrontendOwnershipMetadata::serialize")</sup>
   - `unserialize`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Owner/Metadata/FrontendOwnershipMetadata.php#L132 "Oro\Bundle\CustomerBundle\Owner\Metadata\FrontendOwnershipMetadata::unserialize")</sup>
* The `CustomerAddOrReplaceStrategy::processValidationErrors`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/ImportExport/Strategy/CustomerAddOrReplaceStrategy.php#L61 "Oro\Bundle\CustomerBundle\ImportExport\Strategy\CustomerAddOrReplaceStrategy::processValidationErrors")</sup> method was removed.
* The `CustomerUserAddOrReplaceStrategy::getObjectValue`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/ImportExport/Strategy/CustomerUserAddOrReplaceStrategy.php#L132 "Oro\Bundle\CustomerBundle\ImportExport\Strategy\CustomerUserAddOrReplaceStrategy::getObjectValue")</sup> method was removed.
* The following methods in class `CustomerUser`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUser.php#L553 "Oro\Bundle\CustomerBundle\Entity\CustomerUser")</sup> were removed:
   - `serialize`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUser.php#L553 "Oro\Bundle\CustomerBundle\Entity\CustomerUser::serialize")</sup>
   - `unserialize`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUser.php#L571 "Oro\Bundle\CustomerBundle\Entity\CustomerUser::unserialize")</sup>
   - `isAccountNonLocked`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUser.php#L648 "Oro\Bundle\CustomerBundle\Entity\CustomerUser::isAccountNonLocked")</sup>
* The following methods in class `CustomerUserRole`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUserRole.php#L351 "Oro\Bundle\CustomerBundle\Entity\CustomerUserRole")</sup> were removed:
   - `serialize`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUserRole.php#L351 "Oro\Bundle\CustomerBundle\Entity\CustomerUserRole::serialize")</sup>
   - `unserialize`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUserRole.php#L368 "Oro\Bundle\CustomerBundle\Entity\CustomerUserRole::unserialize")</sup>
* The `CustomerGroupVoter::setConfigManager`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerGroupVoter.php#L27 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerGroupVoter::setConfigManager")</sup> method was removed.
* The following methods in class `CustomerUserRoleVoter`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerUserRoleVoter.php#L58 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerUserRoleVoter")</sup> were removed:
   - `setContainer`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerUserRoleVoter.php#L58 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerUserRoleVoter::setContainer")</sup>
   - `getAuthorizationChecker`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerUserRoleVoter.php#L157 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerUserRoleVoter::getAuthorizationChecker")</sup>
   - `getTokenAccessor`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerUserRoleVoter.php#L165 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerUserRoleVoter::getTokenAccessor")</sup>
   - `getLoggedUser`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerUserRoleVoter.php#L173 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerUserRoleVoter::getLoggedUser")</sup>
* The `TokenAwareFrontendHelper::__construct($backendPrefix, RequestStack $requestStack, TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Security/TokenAwareFrontendHelper.php#L26 "Oro\Bundle\CustomerBundle\Security\TokenAwareFrontendHelper")</sup> method was changed to `TokenAwareFrontendHelper::__construct($backendPrefix, RequestStack $requestStack, ApplicationState $applicationState, TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Security/TokenAwareFrontendHelper.php#L28 "Oro\Bundle\CustomerBundle\Security\TokenAwareFrontendHelper")</sup>
* The `CustomerVisitorCookieResponseListener::onKernelResponse(FilterResponseEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Security/Listener/CustomerVisitorCookieResponseListener.php#L15 "Oro\Bundle\CustomerBundle\Security\Listener\CustomerVisitorCookieResponseListener")</sup> method was changed to `CustomerVisitorCookieResponseListener::onKernelResponse(ResponseEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Security/Listener/CustomerVisitorCookieResponseListener.php#L16 "Oro\Bundle\CustomerBundle\Security\Listener\CustomerVisitorCookieResponseListener")</sup>
* The `AnonymousCustomerUserAuthenticationListener::__construct(TokenStorageInterface $tokenStorage, AuthenticationManagerInterface $authenticationManager, LoggerInterface $logger, WebsiteManager $websiteManager, CacheProvider $cacheProvider, CsrfRequestManager $csrfRequestManager, $apiPattern, CustomerVisitorCookieFactory $cookieFactory)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Security/Firewall/AnonymousCustomerUserAuthenticationListener.php#L73 "Oro\Bundle\CustomerBundle\Security\Firewall\AnonymousCustomerUserAuthenticationListener")</sup> method was changed to `AnonymousCustomerUserAuthenticationListener::__construct(TokenStorageInterface $tokenStorage, AuthenticationManagerInterface $authenticationManager, CsrfRequestManager $csrfRequestManager, CustomerVisitorCookieFactory $cookieFactory, AnonymousCustomerUserRolesProvider $rolesProvider, $apiPattern, LoggerInterface $logger)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Security/Firewall/AnonymousCustomerUserAuthenticationListener.php#L34 "Oro\Bundle\CustomerBundle\Security\Firewall\AnonymousCustomerUserAuthenticationListener")</sup>
* The `CustomerVisitorCookieFactory::__construct($secure, $httpOnly, ConfigManager $configManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Security/Firewall/CustomerVisitorCookieFactory.php#L28 "Oro\Bundle\CustomerBundle\Security\Firewall\CustomerVisitorCookieFactory")</sup> method was changed to `CustomerVisitorCookieFactory::__construct($secure, $httpOnly, ConfigManager $configManager, $sameSite)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Security/Firewall/CustomerVisitorCookieFactory.php#L32 "Oro\Bundle\CustomerBundle\Security\Firewall\CustomerVisitorCookieFactory")</sup>
* The `CustomerUserPreferredLocalizationProvider::__construct($userLocalizationManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Provider/CustomerUserPreferredLocalizationProvider.php#L23 "Oro\Bundle\CustomerBundle\Provider\CustomerUserPreferredLocalizationProvider")</sup> method was changed to `CustomerUserPreferredLocalizationProvider::__construct(UserLocalizationManagerInterface $userLocalizationManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Provider/CustomerUserPreferredLocalizationProvider.php#L18 "Oro\Bundle\CustomerBundle\Provider\CustomerUserPreferredLocalizationProvider")</sup>
* The `FrontendOwnershipMetadata::__construct($ownerType = null, $ownerFieldName, $ownerColumnName, $organizationFieldName, $organizationColumnName, $customerFieldName, $customerColumnName)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Owner/Metadata/FrontendOwnershipMetadata.php#L25 "Oro\Bundle\CustomerBundle\Owner\Metadata\FrontendOwnershipMetadata")</sup> method was changed to `FrontendOwnershipMetadata::__construct($ownerType, $ownerFieldName, $ownerColumnName, $organizationFieldName, $organizationColumnName, $customerFieldName, $customerColumnName)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Owner/Metadata/FrontendOwnershipMetadata.php#L25 "Oro\Bundle\CustomerBundle\Owner\Metadata\FrontendOwnershipMetadata")</sup>
* The `CustomerNormalizer::normalize($object, $format = null, $context = [])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/ImportExport/Serializer/Normalizer/CustomerNormalizer.php#L14 "Oro\Bundle\CustomerBundle\ImportExport\Serializer\Normalizer\CustomerNormalizer")</sup> method was changed to `CustomerNormalizer::normalize($object, $format = null, $context = [])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/ImportExport/Serializer/Normalizer/CustomerNormalizer.php#L14 "Oro\Bundle\CustomerBundle\ImportExport\Serializer\Normalizer\CustomerNormalizer")</sup>
* The `CustomerUserNormalizer::normalize($object, $format = null, $context = [])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/ImportExport/Serializer/Normalizer/CustomerUserNormalizer.php#L17 "Oro\Bundle\CustomerBundle\ImportExport\Serializer\Normalizer\CustomerUserNormalizer")</sup> method was changed to `CustomerUserNormalizer::normalize($object, $format = null, $context = [])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/ImportExport/Serializer/Normalizer/CustomerUserNormalizer.php#L20 "Oro\Bundle\CustomerBundle\ImportExport\Serializer\Normalizer\CustomerUserNormalizer")</sup>
* The `DisabledUserSessionListener::onKernelException(GetResponseForExceptionEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/EventListener/DisabledUserSessionListener.php#L35 "Oro\Bundle\CustomerBundle\EventListener\DisabledUserSessionListener")</sup> method was changed to `DisabledUserSessionListener::onKernelException(ExceptionEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/EventListener/DisabledUserSessionListener.php#L26 "Oro\Bundle\CustomerBundle\EventListener\DisabledUserSessionListener")</sup>
* The `CustomerDatagridListener::__construct(CustomerUserProvider $securityProvider, $columns = [ ... ])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/EventListener/Datagrid/CustomerDatagridListener.php#L28 "Oro\Bundle\CustomerBundle\EventListener\Datagrid\CustomerDatagridListener")</sup> method was changed to `CustomerDatagridListener::__construct(CustomerUserProvider $securityProvider, $columns = [ ... ])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/EventListener/Datagrid/CustomerDatagridListener.php#L24 "Oro\Bundle\CustomerBundle\EventListener\Datagrid\CustomerDatagridListener")</sup>
* The `CustomerUser::setBirthday($birthday)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUser.php#L823 "Oro\Bundle\CustomerBundle\Entity\CustomerUser")</sup> method was changed to `CustomerUser::setBirthday(DateTime $birthday = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUser.php#L809 "Oro\Bundle\CustomerBundle\Entity\CustomerUser")</sup>
* The `AnonymousCustomerUserFactory::create(ContainerBuilder $container, $id, $config, $userProvider, $defaultEntryPoint)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/DependencyInjection/Security/AnonymousCustomerUserFactory.php#L18 "Oro\Bundle\CustomerBundle\DependencyInjection\Security\AnonymousCustomerUserFactory")</sup> method was changed to `AnonymousCustomerUserFactory::create(ContainerBuilder $container, $id, $config, $userProviderId, $defaultEntryPointId)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/DependencyInjection/Security/AnonymousCustomerUserFactory.php#L18 "Oro\Bundle\CustomerBundle\DependencyInjection\Security\AnonymousCustomerUserFactory")</sup>
* The `CustomersEnableSwitchActionHandler::__construct(AclHelper $aclHelper, TokenStorageInterface $tokenStorage, TranslatorInterface $translator, $isEnabled, $successMessage, $errorMessage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Datagrid/Extension/MassAction/CustomersEnableSwitchActionHandler.php#L52 "Oro\Bundle\CustomerBundle\Datagrid\Extension\MassAction\CustomersEnableSwitchActionHandler")</sup> method was changed to `CustomersEnableSwitchActionHandler::__construct(AclHelper $aclHelper, TokenStorageInterface $tokenStorage, TranslatorInterface $translator, $isEnabled, $successMessage, $errorMessage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Datagrid/Extension/MassAction/CustomersEnableSwitchActionHandler.php#L52 "Oro\Bundle\CustomerBundle\Datagrid\Extension\MassAction\CustomersEnableSwitchActionHandler")</sup>
* The `CustomerUserRoleController::update(Request $request, CustomerUserRole $role)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Controller/CustomerUserRoleController.php#L107 "Oro\Bundle\CustomerBundle\Controller\CustomerUserRoleController")</sup> method was changed to `CustomerUserRoleController::update(CustomerUserRole $role, Request $request)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Controller/CustomerUserRoleController.php#L108 "Oro\Bundle\CustomerBundle\Controller\CustomerUserRoleController")</sup>
* The `ResetController::checkEmailAction()`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Controller/Frontend/ResetController.php#L54 "Oro\Bundle\CustomerBundle\Controller\Frontend\ResetController")</sup> method was changed to `ResetController::checkEmailAction(Request $request)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Controller/Frontend/ResetController.php#L56 "Oro\Bundle\CustomerBundle\Controller\Frontend\ResetController")</sup>
* The `CustomerVoter::__construct(DoctrineHelper $doctrineHelper, AuthenticationTrustResolverInterface $authenticationTrustResolver, AuthorizationCheckerInterface $authorizationChecker, CustomerUserProvider $customerUserProvider, CustomerUserRelationsProvider $customerUserRelationsProvider)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerVoter.php#L70 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerVoter")</sup> method was changed to `CustomerVoter::__construct(DoctrineHelper $doctrineHelper, AuthorizationCheckerInterface $authorizationChecker, AuthenticationTrustResolverInterface $authenticationTrustResolver, ContainerInterface $container)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerVoter.php#L38 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerVoter")</sup>
* The `CustomerUser::$roles`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUser.php#L126 "Oro\Bundle\CustomerBundle\Entity\CustomerUser::$roles")</sup> property was removed.
* The `CustomerGroupVoter::$configManager`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerGroupVoter.php#L22 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerGroupVoter::$configManager")</sup> property was removed.
* The `CustomerUserRoleVoter::$container`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/CustomerBundle/Acl/Voter/CustomerUserRoleVoter.php#L53 "Oro\Bundle\CustomerBundle\Acl\Voter\CustomerUserRoleVoter::$container")</sup> property was removed.

FrontendAttachmentBundle
------------------------
* The `FileUrlProvider::getResizedImageUrl(File $file, $width, $height, $referenceType)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendAttachmentBundle/Provider/FileUrlProvider.php#L91 "Oro\Bundle\FrontendAttachmentBundle\Provider\FileUrlProvider")</sup> method was changed to `FileUrlProvider::getResizedImageUrl(File $file, $width, $height, $format, $referenceType)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendAttachmentBundle/Provider/FileUrlProvider.php#L77 "Oro\Bundle\FrontendAttachmentBundle\Provider\FileUrlProvider")</sup>

FrontendBundle
--------------
* The following classes were removed:
   - `NotInstalledFrontendHelper`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/Request/NotInstalledFrontendHelper.php#L10 "Oro\Bundle\FrontendBundle\Request\NotInstalledFrontendHelper")</sup>
   - `LoginAttemptsLogHandler`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/EventListener/LoginAttemptsLogHandler.php#L14 "Oro\Bundle\FrontendBundle\EventListener\LoginAttemptsLogHandler")</sup>
   - `ExceptionController`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/Controller/ExceptionController.php#L22 "Oro\Bundle\FrontendBundle\Controller\ExceptionController")</sup>
   - `WorkflowController`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/Controller/Api/Rest/WorkflowController.php#L14 "Oro\Bundle\FrontendBundle\Controller\Api\Rest\WorkflowController")</sup>
* The `FrontendHelper::__construct($backendPrefix, RequestStack $requestStack)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/Request/FrontendHelper.php#L29 "Oro\Bundle\FrontendBundle\Request\FrontendHelper")</sup> method was changed to `FrontendHelper::__construct($backendPrefix, RequestStack $requestStack, ApplicationState $applicationState)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendBundle/Request/FrontendHelper.php#L33 "Oro\Bundle\FrontendBundle\Request\FrontendHelper")</sup>
* The `RouteProvider::__construct(RouteProviderInterface $routeProvider, FrontendHelper $frontendHelper, $formDialogRoute, $formPageRoute, $executionRoute, $widgetRoute = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/Provider/RouteProvider.php#L40 "Oro\Bundle\FrontendBundle\Provider\RouteProvider")</sup> method was changed to `RouteProvider::__construct(RouteProviderInterface $routeProvider, FrontendHelper $frontendHelper, $formDialogRoute, $formPageRoute, $executionRoute, $widgetRoute)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendBundle/Provider/RouteProvider.php#L26 "Oro\Bundle\FrontendBundle\Provider\RouteProvider")</sup>
* The `LocaleSettings::__construct(LocaleSettings $inner, FrontendHelper $frontendHelper, UserLocalizationManagerInterface $localizationManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/Model/LocaleSettings.php#L34 "Oro\Bundle\FrontendBundle\Model\LocaleSettings")</sup> method was changed to `LocaleSettings::__construct(LocaleSettings $inner, FrontendHelper $frontendHelper, UserLocalizationManagerInterface $localizationManager, LayoutContextHolder $layoutContextHolder, ThemeManager $themeManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendBundle/Model/LocaleSettings.php#L41 "Oro\Bundle\FrontendBundle\Model\LocaleSettings")</sup>
* The `DraftableFilterListener::onKernelController(FilterControllerEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/EventListener/DraftableFilterListener.php#L33 "Oro\Bundle\FrontendBundle\EventListener\DraftableFilterListener")</sup> method was changed to `DraftableFilterListener::onKernelController(ControllerEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendBundle/EventListener/DraftableFilterListener.php#L23 "Oro\Bundle\FrontendBundle\EventListener\DraftableFilterListener")</sup>
* The `GuestAccessRequestListener::onKernelRequest(GetResponseEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/EventListener/GuestAccessRequestListener.php#L77 "Oro\Bundle\FrontendBundle\EventListener\GuestAccessRequestListener")</sup> method was changed to `GuestAccessRequestListener::onKernelRequest(RequestEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendBundle/EventListener/GuestAccessRequestListener.php#L56 "Oro\Bundle\FrontendBundle\EventListener\GuestAccessRequestListener")</sup>
* The `ThemeListener::onKernelRequest(GetResponseEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L35 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener")</sup> method was changed to `ThemeListener::onKernelRequest(RequestEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L26 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener")</sup>
* The `ClassMigration::__construct(ManagerRegistry $managerRegistry, ConfigManager $configManager, $applicationInstalled)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/FrontendBundle/CacheWarmer/ClassMigration.php#L35 "Oro\Bundle\FrontendBundle\CacheWarmer\ClassMigration")</sup> method was changed to `ClassMigration::__construct(ManagerRegistry $managerRegistry, ConfigManager $configManager, ApplicationState $applicationState)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/FrontendBundle/CacheWarmer/ClassMigration.php#L35 "Oro\Bundle\FrontendBundle\CacheWarmer\ClassMigration")</sup>

WebsiteBundle
-------------
* The following classes were removed:
   - `OroWebsiteExtension`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Twig/OroWebsiteExtension.php#L16 "Oro\Bundle\WebsiteBundle\Twig\OroWebsiteExtension")</sup>
   - `WebsitePathExtension`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Twig/WebsitePathExtension.php#L17 "Oro\Bundle\WebsiteBundle\Twig\WebsitePathExtension")</sup>
* The `EntityDateTimeExtension::getName`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Twig/EntityDateTimeExtension.php#L59 "Oro\Bundle\WebsiteBundle\Twig\EntityDateTimeExtension::getName")</sup> method was removed.
* The following methods in class `EntityDateTimeExtension`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/WebsiteBundle/Twig/EntityDateTimeExtension.php#L27 "Oro\Bundle\WebsiteBundle\Twig\EntityDateTimeExtension")</sup> were changed:
  > - `__construct(ContainerInterface $container, DateTimeExtension $dateTimeExtension)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Twig/EntityDateTimeExtension.php#L34 "Oro\Bundle\WebsiteBundle\Twig\EntityDateTimeExtension")</sup>
  > - `__construct(ContainerInterface $container)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/WebsiteBundle/Twig/EntityDateTimeExtension.php#L27 "Oro\Bundle\WebsiteBundle\Twig\EntityDateTimeExtension")</sup>

  > - `formatDateTimeByEntity($date, $entity, $options = [])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Twig/EntityDateTimeExtension.php#L95 "Oro\Bundle\WebsiteBundle\Twig\EntityDateTimeExtension")</sup>
  > - `formatDateTimeByEntity(Environment $env, $date, $entity, $options = [])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/WebsiteBundle/Twig/EntityDateTimeExtension.php#L68 "Oro\Bundle\WebsiteBundle\Twig\EntityDateTimeExtension")</sup>

* The `WebsiteUrlResolver::getWebsitePath($route, $routeParams, WebsiteInterface $website = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Resolver/WebsiteUrlResolver.php#L83 "Oro\Bundle\WebsiteBundle\Resolver\WebsiteUrlResolver")</sup> method was changed to `WebsiteUrlResolver::getWebsitePath($route, $routeParams, WebsiteInterface $website = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/WebsiteBundle/Resolver/WebsiteUrlResolver.php#L79 "Oro\Bundle\WebsiteBundle\Resolver\WebsiteUrlResolver")</sup>
* The `CacheableWebsiteProvider::__construct(WebsiteProviderInterface $websiteProvider, CacheProvider $cacheProvider, DoctrineHelper $doctrineHelper, TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Provider/CacheableWebsiteProvider.php#L35 "Oro\Bundle\WebsiteBundle\Provider\CacheableWebsiteProvider")</sup> method was changed to `CacheableWebsiteProvider::__construct(WebsiteProviderInterface $websiteProvider, CacheProvider $cacheProvider, TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/WebsiteBundle/Provider/CacheableWebsiteProvider.php#L25 "Oro\Bundle\WebsiteBundle\Provider\CacheableWebsiteProvider")</sup>
* The `WebsiteManager::__construct(ManagerRegistry $managerRegistry, FrontendHelper $frontendHelper, Mode $maintenance)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Manager/WebsiteManager.php#L42 "Oro\Bundle\WebsiteBundle\Manager\WebsiteManager")</sup> method was changed to `WebsiteManager::__construct(ManagerRegistry $managerRegistry, FrontendHelper $frontendHelper, Mode $maintenance)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/WebsiteBundle/Manager/WebsiteManager.php#L37 "Oro\Bundle\WebsiteBundle\Manager\WebsiteManager")</sup>
* The `AssetsRequestListener::onKernelRequest(GetResponseEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/EventListener/AssetsRequestListener.php#L29 "Oro\Bundle\WebsiteBundle\EventListener\AssetsRequestListener")</sup> method was changed to `AssetsRequestListener::onKernelRequest(RequestEvent $event)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.0.0/src/Oro/Bundle/WebsiteBundle/EventListener/AssetsRequestListener.php#L20 "Oro\Bundle\WebsiteBundle\EventListener\AssetsRequestListener")</sup>
* The `EntityDateTimeExtension::$dateTimeExtension`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.2.0/src/Oro/Bundle/WebsiteBundle/Twig/EntityDateTimeExtension.php#L28 "Oro\Bundle\WebsiteBundle\Twig\EntityDateTimeExtension::$dateTimeExtension")</sup> property was removed.

