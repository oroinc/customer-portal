- [CommerceMenuBundle](#commercemenubundle)
- [CustomerBundle](#customerbundle)
- [FrontendAttachmentBundle](#frontendattachmentbundle)
- [FrontendBundle](#frontendbundle)
- [WebsiteBundle](#websitebundle)

CommerceMenuBundle
------------------
* The `MenuUpdateFormViewListener`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CommerceMenuBundle/EventListener/MenuUpdateFormViewListener.php#L8 "Oro\Bundle\CommerceMenuBundle\EventListener\MenuUpdateFormViewListener")</sup> class was removed.
* The `MenuUpdateExtension::getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CommerceMenuBundle/Form/Extension/MenuUpdateExtension.php#L73 "Oro\Bundle\CommerceMenuBundle\Form\Extension\MenuUpdateExtension::getExtendedType")</sup> method was removed.

CustomerBundle
--------------
* The following classes were removed:
   - `CustomerUserPreferredLanguageProvider`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Provider/CustomerUserPreferredLanguageProvider.php#L14 "Oro\Bundle\CustomerBundle\Provider\CustomerUserPreferredLanguageProvider")</sup>
   - `CustomerDeleteHandler`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Handler/CustomerDeleteHandler.php#L13 "Oro\Bundle\CustomerBundle\Handler\CustomerDeleteHandler")</sup>
   - `UserDeleteHandler`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Handler/UserDeleteHandler.php#L10 "Oro\Bundle\CustomerBundle\Handler\UserDeleteHandler")</sup>
   - `CustomerUserReassignUpdaterPass`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/DependencyInjection/Compiler/CustomerUserReassignUpdaterPass.php#L12 "Oro\Bundle\CustomerBundle\DependencyInjection\Compiler\CustomerUserReassignUpdaterPass")</sup>
   - `WindowsStateManagerPass`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/DependencyInjection/Compiler/WindowsStateManagerPass.php#L9 "Oro\Bundle\CustomerBundle\DependencyInjection\Compiler\WindowsStateManagerPass")</sup>
   - `HandleAccessDeniedForVisitors`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Api/Processor/HandleAccessDeniedForVisitors.php#L18 "Oro\Bundle\CustomerBundle\Api\Processor\HandleAccessDeniedForVisitors")</sup>
   - `SaveCustomerUser`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Api/Processor/Create/SaveCustomerUser.php#L14 "Oro\Bundle\CustomerBundle\Api\Processor\Create\SaveCustomerUser")</sup>
   - `AddFrontendOwnerValidator`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Api/Processor/Config/AddFrontendOwnerValidator.php#L12 "Oro\Bundle\CustomerBundle\Api\Processor\Config\AddFrontendOwnerValidator")</sup>
   - `FrontendAccessRuleOptionMatcher`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Acl/AccessRule/FrontendAccessRuleOptionMatcher.php#L16 "Oro\Bundle\CustomerBundle\Acl\AccessRule\FrontendAccessRuleOptionMatcher")</sup>
* The `CircularCustomerReference::$message`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Validator/Constraints/CircularCustomerReference.php#L13 "Oro\Bundle\CustomerBundle\Validator\Constraints\CircularCustomerReference::$message")</sup> property was removed.
* The `AddressExtension::$tokenStorage`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/AddressExtension.php#L17 "Oro\Bundle\CustomerBundle\Form\Extension\AddressExtension::$tokenStorage")</sup> property was removed.
* The `FrontendProductSelectExtension::$tokenStorage`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/FrontendProductSelectExtension.php#L16 "Oro\Bundle\CustomerBundle\Form\Extension\FrontendProductSelectExtension::$tokenStorage")</sup> property was removed.
* The `OroEntitySelectOrCreateInlineExtension::$tokenStorage`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/OroEntitySelectOrCreateInlineExtension.php#L18 "Oro\Bundle\CustomerBundle\Form\Extension\OroEntitySelectOrCreateInlineExtension::$tokenStorage")</sup> property was removed.
* The `CustomerUserLoader::__construct(ManagerRegistry $doctrine, ConfigManager $configManager, WebsiteManager $websiteManager, TokenAccessor $tokenAccessor)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Security/CustomerUserLoader.php#L37 "Oro\Bundle\CustomerBundle\Security\CustomerUserLoader")</sup> method was changed to `CustomerUserLoader::__construct(ManagerRegistry $doctrine, ConfigManager $configManager, TokenAccessor $tokenAccessor)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Security/CustomerUserLoader.php#L32 "Oro\Bundle\CustomerBundle\Security\CustomerUserLoader")</sup>
* The `AnonymousCustomerUserAuthenticationListener::__construct(TokenStorageInterface $tokenStorage, AuthenticationManagerInterface $authenticationManager, LoggerInterface $logger, ConfigManager $configManager, WebsiteManager $websiteManager, CacheProvider $cacheProvider)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Security/Firewall/AnonymousCustomerUserAuthenticationListener.php#L67 "Oro\Bundle\CustomerBundle\Security\Firewall\AnonymousCustomerUserAuthenticationListener")</sup> method was changed to `AnonymousCustomerUserAuthenticationListener::__construct(TokenStorageInterface $tokenStorage, AuthenticationManagerInterface $authenticationManager, LoggerInterface $logger, ConfigManager $configManager, WebsiteManager $websiteManager, CacheProvider $cacheProvider, CsrfRequestManager $csrfRequestManager, $apiPattern)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Security/Firewall/AnonymousCustomerUserAuthenticationListener.php#L78 "Oro\Bundle\CustomerBundle\Security\Firewall\AnonymousCustomerUserAuthenticationListener")</sup>
* The `FrontendOwnerTreeProvider::__construct(ManagerRegistry $doctrine, DatabaseChecker $databaseChecker, CacheProvider $cache, OwnershipMetadataProviderInterface $ownershipMetadataProvider, TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Owner/FrontendOwnerTreeProvider.php#L40 "Oro\Bundle\CustomerBundle\Owner\FrontendOwnerTreeProvider")</sup> method was changed to `FrontendOwnerTreeProvider::__construct(ManagerRegistry $doctrine, DatabaseChecker $databaseChecker, CacheProvider $cache, OwnershipMetadataProviderInterface $ownershipMetadataProvider, TokenStorageInterface $tokenStorage, MessageProducerInterface $messageProducer, OwnerTreeMessageFactory $ownerTreeMessageFactory)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Owner/FrontendOwnerTreeProvider.php#L64 "Oro\Bundle\CustomerBundle\Owner\FrontendOwnerTreeProvider")</sup>
* The `CustomerOwnershipConditionDataBuilder::__construct(AuthorizationCheckerInterface $authorizationChecker, TokenStorageInterface $tokenStorage, OwnershipMetadataProviderInterface $metadataProvider, OwnerTreeProviderInterface $treeProvider, AclVoter $aclVoter, AclConditionDataBuilderInterface $ownerConditionBuilder, AclGroupProviderInterface $aclGroupProvider)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/ORM/Walker/CustomerOwnershipConditionDataBuilder.php#L43 "Oro\Bundle\CustomerBundle\ORM\Walker\CustomerOwnershipConditionDataBuilder")</sup> method was changed to `CustomerOwnershipConditionDataBuilder::__construct(AuthorizationCheckerInterface $authorizationChecker, TokenStorageInterface $tokenStorage, OwnershipMetadataProviderInterface $metadataProvider, OwnerTreeProviderInterface $treeProvider, AclVoterInterface $aclVoter, AclConditionDataBuilderInterface $ownerConditionBuilder, AclGroupProviderInterface $aclGroupProvider)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/ORM/Walker/CustomerOwnershipConditionDataBuilder.php#L43 "Oro\Bundle\CustomerBundle\ORM\Walker\CustomerOwnershipConditionDataBuilder")</sup>
* The `SignInProvider::__construct(RequestStack $requestStack, TokenAccessorInterface $tokenAccessor, CsrfTokenManagerInterface $csrfTokenManager, SignInTargetPathProviderInterface $targetPathProvider)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Layout/DataProvider/SignInProvider.php#L36 "Oro\Bundle\CustomerBundle\Layout\DataProvider\SignInProvider")</sup> method was changed to `SignInProvider::__construct(RequestStack $requestStack, TokenAccessorInterface $tokenAccessor, CsrfTokenManagerInterface $csrfTokenManager, SignInTargetPathProviderInterface $targetPathProvider, TranslatorInterface $translator)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Layout/DataProvider/SignInProvider.php#L42 "Oro\Bundle\CustomerBundle\Layout\DataProvider\SignInProvider")</sup>
* The `FrontendCustomerUserHandler::__construct(EventDispatcherInterface $eventDispatcher, DoctrineHelper $doctrineHelper, RequestStack $requestStack, CustomerUserManager $userManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Handler/FrontendCustomerUserHandler.php#L34 "Oro\Bundle\CustomerBundle\Form\Handler\FrontendCustomerUserHandler")</sup> method was changed to `FrontendCustomerUserHandler::__construct(EventDispatcherInterface $eventDispatcher, DoctrineHelper $doctrineHelper, RequestWebsiteProvider $requestWebsiteProvider, CustomerUserManager $userManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Form/Handler/FrontendCustomerUserHandler.php#L33 "Oro\Bundle\CustomerBundle\Form\Handler\FrontendCustomerUserHandler")</sup>
* The `AddressExtension::__construct(TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/AddressExtension.php#L22 "Oro\Bundle\CustomerBundle\Form\Extension\AddressExtension")</sup> method was changed to `AddressExtension::__construct(FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Form/Extension/AddressExtension.php#L22 "Oro\Bundle\CustomerBundle\Form\Extension\AddressExtension")</sup>
* The `FrontendProductSelectExtension::__construct(TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/FrontendProductSelectExtension.php#L21 "Oro\Bundle\CustomerBundle\Form\Extension\FrontendProductSelectExtension")</sup> method was changed to `FrontendProductSelectExtension::__construct(FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Form/Extension/FrontendProductSelectExtension.php#L22 "Oro\Bundle\CustomerBundle\Form\Extension\FrontendProductSelectExtension")</sup>
* The `OroEntitySelectOrCreateInlineExtension::__construct(TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/OroEntitySelectOrCreateInlineExtension.php#L23 "Oro\Bundle\CustomerBundle\Form\Extension\OroEntitySelectOrCreateInlineExtension")</sup> method was changed to `OroEntitySelectOrCreateInlineExtension::__construct(FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Form/Extension/OroEntitySelectOrCreateInlineExtension.php#L24 "Oro\Bundle\CustomerBundle\Form\Extension\OroEntitySelectOrCreateInlineExtension")</sup>
* The `PreferredLocalizationCustomerUserSubscriber::__construct(WebsiteManager $websiteManager, ConfigManager $configManager, RegistryInterface $registry)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/EventListener/PreferredLocalizationCustomerUserSubscriber.php#L42 "Oro\Bundle\CustomerBundle\Form\EventListener\PreferredLocalizationCustomerUserSubscriber")</sup> method was changed to `PreferredLocalizationCustomerUserSubscriber::__construct(WebsiteManager $websiteManager, ConfigManager $configManager, ManagerRegistry $registry)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Form/EventListener/PreferredLocalizationCustomerUserSubscriber.php#L42 "Oro\Bundle\CustomerBundle\Form\EventListener\PreferredLocalizationCustomerUserSubscriber")</sup>
* The `CustomerDatagridListener::__construct(CustomerUserProvider $securityProvider, $columns = [ ... ])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/EventListener/Datagrid/CustomerDatagridListener.php#L27 "Oro\Bundle\CustomerBundle\EventListener\Datagrid\CustomerDatagridListener")</sup> method was changed to `CustomerDatagridListener::__construct(CustomerUserProvider $securityProvider, $columns = [ ... ])`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/EventListener/Datagrid/CustomerDatagridListener.php#L28 "Oro\Bundle\CustomerBundle\EventListener\Datagrid\CustomerDatagridListener")</sup>
* The `CustomerVisitorManager::__construct(DoctrineHelper $doctrineHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerVisitorManager.php#L17 "Oro\Bundle\CustomerBundle\Entity\CustomerVisitorManager")</sup> method was changed to `CustomerVisitorManager::__construct(ManagerRegistry $doctrine)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerVisitorManager.php#L20 "Oro\Bundle\CustomerBundle\Entity\CustomerVisitorManager")</sup>
* The `DoctrineFiltersListener::__construct(RegistryInterface $registry, FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Doctrine/DoctrineFiltersListener.php#L30 "Oro\Bundle\CustomerBundle\Doctrine\DoctrineFiltersListener")</sup> method was changed to `DoctrineFiltersListener::__construct(ManagerRegistry $registry, FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Doctrine/DoctrineFiltersListener.php#L30 "Oro\Bundle\CustomerBundle\Doctrine\DoctrineFiltersListener")</sup>
* The `CommerceCustomerAddressController::getAction($entityId, $addressId)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Controller/Api/Rest/CommerceCustomerAddressController.php#L36 "Oro\Bundle\CustomerBundle\Controller\Api\Rest\CommerceCustomerAddressController")</sup> method was changed to `CommerceCustomerAddressController::getAction($entityId, $addressId)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Controller/Api/Rest/CommerceCustomerAddressController.php#L39 "Oro\Bundle\CustomerBundle\Controller\Api\Rest\CommerceCustomerAddressController")</sup>
* The `CustomerUserAddressController::getAction($entityId, $addressId)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Controller/Api/Rest/CustomerUserAddressController.php#L39 "Oro\Bundle\CustomerBundle\Controller\Api\Rest\CustomerUserAddressController")</sup> method was changed to `CustomerUserAddressController::getAction($entityId, $addressId)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Controller/Api/Rest/CustomerUserAddressController.php#L42 "Oro\Bundle\CustomerBundle\Controller\Api\Rest\CustomerUserAddressController")</sup>
* The `SecurityContext::__construct(SecurityContextInterface $innerSecurityContext, TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Api/ApiDoc/SecurityContext.php#L25 "Oro\Bundle\CustomerBundle\Api\ApiDoc\SecurityContext")</sup> method was changed to `SecurityContext::__construct(SecurityContextInterface $innerSecurityContext, FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Api/ApiDoc/SecurityContext.php#L23 "Oro\Bundle\CustomerBundle\Api\ApiDoc\SecurityContext")</sup>
* The `AclGroupProvider::__construct(TokenAccessorInterface $tokenAccessor)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Acl/Group/AclGroupProvider.php#L21 "Oro\Bundle\CustomerBundle\Acl\Group\AclGroupProvider")</sup> method was changed to `AclGroupProvider::__construct(FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/CustomerBundle/Acl/Group/AclGroupProvider.php#L20 "Oro\Bundle\CustomerBundle\Acl\Group\AclGroupProvider")</sup>
* The `ScopeCustomerCriteriaProvider::getCriteriaForCurrentScope`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Provider/ScopeCustomerCriteriaProvider.php#L33 "Oro\Bundle\CustomerBundle\Provider\ScopeCustomerCriteriaProvider::getCriteriaForCurrentScope")</sup> method was removed.
* The `ScopeCustomerGroupCriteriaProvider::getCriteriaForCurrentScope`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Provider/ScopeCustomerGroupCriteriaProvider.php#L43 "Oro\Bundle\CustomerBundle\Provider\ScopeCustomerGroupCriteriaProvider::getCriteriaForCurrentScope")</sup> method was removed.
* The `CustomerUserReassignUpdater::addCustomerUserReassignEntityUpdater`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Handler/CustomerUserReassignUpdater.php#L22 "Oro\Bundle\CustomerBundle\Handler\CustomerUserReassignUpdater::addCustomerUserReassignEntityUpdater")</sup> method was removed.
* The `AclAccessLevelSelectorExtension::getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/AclAccessLevelSelectorExtension.php#L31 "Oro\Bundle\CustomerBundle\Form\Extension\AclAccessLevelSelectorExtension::getExtendedType")</sup> method was removed.
* The following methods in class `AddressExtension`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/AddressExtension.php#L40 "Oro\Bundle\CustomerBundle\Form\Extension\AddressExtension")</sup> were removed:
   - `getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/AddressExtension.php#L40 "Oro\Bundle\CustomerBundle\Form\Extension\AddressExtension::getExtendedType")</sup>
   - `isFrontend`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/AddressExtension.php#L48 "Oro\Bundle\CustomerBundle\Form\Extension\AddressExtension::isFrontend")</sup>
* The `CustomerGroupScopeExtension::getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/CustomerGroupScopeExtension.php#L39 "Oro\Bundle\CustomerBundle\Form\Extension\CustomerGroupScopeExtension::getExtendedType")</sup> method was removed.
* The `CustomerScopeExtension::getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/CustomerScopeExtension.php#L39 "Oro\Bundle\CustomerBundle\Form\Extension\CustomerScopeExtension::getExtendedType")</sup> method was removed.
* The `FrontendProductSelectExtension::getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/FrontendProductSelectExtension.php#L40 "Oro\Bundle\CustomerBundle\Form\Extension\FrontendProductSelectExtension::getExtendedType")</sup> method was removed.
* The following methods in class `OroEntitySelectOrCreateInlineExtension`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/OroEntitySelectOrCreateInlineExtension.php#L54 "Oro\Bundle\CustomerBundle\Form\Extension\OroEntitySelectOrCreateInlineExtension")</sup> were removed:
   - `getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/OroEntitySelectOrCreateInlineExtension.php#L54 "Oro\Bundle\CustomerBundle\Form\Extension\OroEntitySelectOrCreateInlineExtension::getExtendedType")</sup>
   - `isFrontend`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/OroEntitySelectOrCreateInlineExtension.php#L62 "Oro\Bundle\CustomerBundle\Form\Extension\OroEntitySelectOrCreateInlineExtension::isFrontend")</sup>
* The `PreferredLocalizationCustomerUserExtension::getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Form/Extension/PreferredLocalizationCustomerUserExtension.php#L34 "Oro\Bundle\CustomerBundle\Form\Extension\PreferredLocalizationCustomerUserExtension::getExtendedType")</sup> method was removed.
* The `CustomerUserManager::assertRoles`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Entity/CustomerUserManager.php#L186 "Oro\Bundle\CustomerBundle\Entity\CustomerUserManager::assertRoles")</sup> method was removed.
* The `FrontendWindowsStateController::getWindowsStatesManager`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/CustomerBundle/Controller/Api/Rest/FrontendWindowsStateController.php#L20 "Oro\Bundle\CustomerBundle\Controller\Api\Rest\FrontendWindowsStateController::getWindowsStatesManager")</sup> method was removed.

FrontendAttachmentBundle
------------------------
* The `FileUrlProvider::__construct(FileUrlProviderInterface $innerFileUrlProvider, UrlGeneratorInterface $urlGenerator, FileApplicationsProvider $fileApplicationsProvider, CurrentApplicationProviderInterface $currentApplicationProvider, FileAccessControlChecker $fileAccessControlChecker)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendAttachmentBundle/Provider/FileUrlProvider.php#L39 "Oro\Bundle\FrontendAttachmentBundle\Provider\FileUrlProvider")</sup> method was changed to `FileUrlProvider::__construct(FileUrlProviderInterface $innerFileUrlProvider, UrlGeneratorInterface $urlGenerator, FileApplicationsProvider $fileApplicationsProvider, CurrentApplicationProviderInterface $currentApplicationProvider, FileAccessControlChecker $fileAccessControlChecker, ConfigManager $configManager, FileNameProviderInterface $filenameProvider)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendAttachmentBundle/Provider/FileUrlProvider.php#L51 "Oro\Bundle\FrontendAttachmentBundle\Provider\FileUrlProvider")</sup>
* The `FileAttachmentConfigExtension::getExtendedType`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendAttachmentBundle/Form/Extension/FileAttachmentConfigExtension.php#L33 "Oro\Bundle\FrontendAttachmentBundle\Form\Extension\FileAttachmentConfigExtension::getExtendedType")</sup> method was removed.

FrontendBundle
--------------
* The following classes were removed:
   - `ActionCurrentApplicationProvider`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Provider/ActionCurrentApplicationProvider.php#L11 "Oro\Bundle\FrontendBundle\Provider\ActionCurrentApplicationProvider")</sup>
   - `DefaultFrontendPreferredLanguageProvider`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Provider/DefaultFrontendPreferredLanguageProvider.php#L14 "Oro\Bundle\FrontendBundle\Provider\DefaultFrontendPreferredLanguageProvider")</sup>
* The following methods in class `FrontendHelper`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Request/FrontendHelper.php#L33 "Oro\Bundle\FrontendBundle\Request\FrontendHelper")</sup> were changed:
  > - `isFrontendRequest(Request $request = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Request/FrontendHelper.php#L33 "Oro\Bundle\FrontendBundle\Request\FrontendHelper")</sup>
  > - `isFrontendRequest()`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Request/FrontendHelper.php#L33 "Oro\Bundle\FrontendBundle\Request\FrontendHelper")</sup>

  > - `isFrontendUrl($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Request/FrontendHelper.php#L46 "Oro\Bundle\FrontendBundle\Request\FrontendHelper")</sup>
  > - `isFrontendUrl($pathinfo)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Request/FrontendHelper.php#L50 "Oro\Bundle\FrontendBundle\Request\FrontendHelper")</sup>

* The following methods in class `NotInstalledFrontendHelper`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Request/NotInstalledFrontendHelper.php#L20 "Oro\Bundle\FrontendBundle\Request\NotInstalledFrontendHelper")</sup> were changed:
  > - `isFrontendRequest(Request $request = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Request/NotInstalledFrontendHelper.php#L17 "Oro\Bundle\FrontendBundle\Request\NotInstalledFrontendHelper")</sup>
  > - `isFrontendRequest()`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Request/NotInstalledFrontendHelper.php#L20 "Oro\Bundle\FrontendBundle\Request\NotInstalledFrontendHelper")</sup>

  > - `isFrontendUrl($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Request/NotInstalledFrontendHelper.php#L25 "Oro\Bundle\FrontendBundle\Request\NotInstalledFrontendHelper")</sup>
  > - `isFrontendUrl($pathinfo)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Request/NotInstalledFrontendHelper.php#L28 "Oro\Bundle\FrontendBundle\Request\NotInstalledFrontendHelper")</sup>

* The `RouteProvider::__construct(RouteProviderInterface $routeProvider, TokenStorageInterface $tokenStorage, $formDialogRoute, $formPageRoute, $executionRoute, $widgetRoute = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Provider/RouteProvider.php#L29 "Oro\Bundle\FrontendBundle\Provider\RouteProvider")</sup> method was changed to `RouteProvider::__construct(RouteProviderInterface $routeProvider, FrontendHelper $frontendHelper, $formDialogRoute, $formPageRoute, $executionRoute, $widgetRoute = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Provider/RouteProvider.php#L40 "Oro\Bundle\FrontendBundle\Provider\RouteProvider")</sup>
* The following methods in class `GuestAccessDecisionMaker`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/GuestAccess/GuestAccessDecisionMaker.php#L24 "Oro\Bundle\FrontendBundle\GuestAccess\GuestAccessDecisionMaker")</sup> were changed:
  > - `__construct(GuestAccessAllowedUrlsProviderInterface $guestAccessAllowedUrlsProvider, FrontendHelper $frontendHelper, $installed)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/GuestAccess/GuestAccessDecisionMaker.php#L30 "Oro\Bundle\FrontendBundle\GuestAccess\GuestAccessDecisionMaker")</sup>
  > - `__construct(GuestAccessAllowedUrlsProviderInterface $guestAccessAllowedUrlsProvider, FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/GuestAccess/GuestAccessDecisionMaker.php#L24 "Oro\Bundle\FrontendBundle\GuestAccess\GuestAccessDecisionMaker")</sup>

  > - `decide($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/GuestAccess/GuestAccessDecisionMaker.php#L43 "Oro\Bundle\FrontendBundle\GuestAccess\GuestAccessDecisionMaker")</sup>
  > - `decide($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/GuestAccess/GuestAccessDecisionMaker.php#L35 "Oro\Bundle\FrontendBundle\GuestAccess\GuestAccessDecisionMaker")</sup>

* The `ThemeListener::__construct(ThemeRegistry $themeRegistry, FrontendHelper $helper, ConfigManager $configManager, $installed)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L46 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener")</sup> method was changed to `ThemeListener::__construct(FrontendHelper $frontendHelper, ConfigManager $configManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L26 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener")</sup>
* The `FrontendDatagridExtension::__construct(TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Datagrid/Extension/FrontendDatagridExtension.php#L30 "Oro\Bundle\FrontendBundle\Datagrid\Extension\FrontendDatagridExtension")</sup> method was changed to `FrontendDatagridExtension::__construct(FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/Datagrid/Extension/FrontendDatagridExtension.php#L28 "Oro\Bundle\FrontendBundle\Datagrid\Extension\FrontendDatagridExtension")</sup>
* The `GuestAccessDecisionMakerInterface::decide($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/GuestAccess/GuestAccessDecisionMakerInterface.php#L17 "Oro\Bundle\FrontendBundle\GuestAccess\GuestAccessDecisionMakerInterface")</sup> method was changed to `GuestAccessDecisionMakerInterface::decide($url)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/FrontendBundle/GuestAccess/GuestAccessDecisionMakerInterface.php#L20 "Oro\Bundle\FrontendBundle\GuestAccess\GuestAccessDecisionMakerInterface")</sup>
* The `RouteProvider::isFrontend`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Provider/RouteProvider.php#L80 "Oro\Bundle\FrontendBundle\Provider\RouteProvider::isFrontend")</sup> method was removed.
* The `DatagridBottomToolbarListener::isApplicable`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/EventListener/DatagridBottomToolbarListener.php#L37 "Oro\Bundle\FrontendBundle\EventListener\DatagridBottomToolbarListener::isApplicable")</sup> method was removed.
* The `RouteProvider::$tokenStorage`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/Provider/RouteProvider.php#L19 "Oro\Bundle\FrontendBundle\Provider\RouteProvider::$tokenStorage")</sup> property was removed.
* The following properties in class `ThemeListener`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L23 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener")</sup> were removed:
   - `$themeRegistry`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L23 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener::$themeRegistry")</sup>
   - `$helper`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L28 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener::$helper")</sup>
   - `$installed`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/FrontendBundle/EventListener/ThemeListener.php#L33 "Oro\Bundle\FrontendBundle\EventListener\ThemeListener::$installed")</sup>

WebsiteBundle
-------------
* The following classes were removed:
   - `AclHelper`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/ORM/Walker/AclHelper.php#L15 "Oro\Bundle\WebsiteBundle\ORM\Walker\AclHelper")</sup>
   - `RoutingListener`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/EventListener/RoutingListener.php#L8 "Oro\Bundle\WebsiteBundle\EventListener\RoutingListener")</sup>
* The `WebsiteUrlResolver::getWebsiteUrl(WebsiteInterface $website = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/Resolver/WebsiteUrlResolver.php#L35 "Oro\Bundle\WebsiteBundle\Resolver\WebsiteUrlResolver")</sup> method was changed to `WebsiteUrlResolver::getWebsiteUrl(WebsiteInterface $website = null, $clearUrl = false)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/WebsiteBundle/Resolver/WebsiteUrlResolver.php#L40 "Oro\Bundle\WebsiteBundle\Resolver\WebsiteUrlResolver")</sup>
* The `CacheableWebsiteProvider::__construct(WebsiteProviderInterface $websiteProvider, CacheProvider $cacheProvider, DoctrineHelper $doctrineHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/Provider/CacheableWebsiteProvider.php#L30 "Oro\Bundle\WebsiteBundle\Provider\CacheableWebsiteProvider")</sup> method was changed to `CacheableWebsiteProvider::__construct(WebsiteProviderInterface $websiteProvider, CacheProvider $cacheProvider, DoctrineHelper $doctrineHelper, TokenStorageInterface $tokenStorage)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/WebsiteBundle/Provider/CacheableWebsiteProvider.php#L36 "Oro\Bundle\WebsiteBundle\Provider\CacheableWebsiteProvider")</sup>
* The `RedirectListener::__construct(ConfigManager $configManager, WebsiteManager $websiteManager, WebsiteUrlResolver $websiteUrlResolver, FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/EventListener/RedirectListener.php#L47 "Oro\Bundle\WebsiteBundle\EventListener\RedirectListener")</sup> method was changed to `RedirectListener::__construct(WebsiteManager $websiteManager, WebsiteUrlResolver $websiteUrlResolver, FrontendHelper $frontendHelper)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.1.0/src/Oro/Bundle/WebsiteBundle/EventListener/RedirectListener.php#L33 "Oro\Bundle\WebsiteBundle\EventListener\RedirectListener")</sup>
* The `CacheableWebsiteProvider::hasCache`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/Provider/CacheableWebsiteProvider.php#L86 "Oro\Bundle\WebsiteBundle\Provider\CacheableWebsiteProvider::hasCache")</sup> method was removed.
* The `ScopeCriteriaProvider::getCriteriaForCurrentScope`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/Provider/ScopeCriteriaProvider.php#L29 "Oro\Bundle\WebsiteBundle\Provider\ScopeCriteriaProvider::getCriteriaForCurrentScope")</sup> method was removed.
* The `RedirectListener::getCleanUrl`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/EventListener/RedirectListener.php#L103 "Oro\Bundle\WebsiteBundle\EventListener\RedirectListener::getCleanUrl")</sup> method was removed.
* The `RedirectListener::$configManager`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/4.0.0/src/Oro/Bundle/WebsiteBundle/EventListener/RedirectListener.php#L24 "Oro\Bundle\WebsiteBundle\EventListener\RedirectListener::$configManager")</sup> property was removed.

