{% block _top_nav_controls_widget %}
    {% set attr = layout_attr_defaults(attr, {
        '~class': " topbar-navigation"
    }) %}
    {% set dom_relocation_options =  {
        responsive: [
            {
                viewport: 'tablet',
                moveTo: '[data-main-menu-container]'
            }
        ]
    }|json_encode %}

    <ul {{ block('block_attributes') }}
        data-dom-relocation-options="{{ dom_relocation_options }}"
    >{{ block_widget(block) }}</ul>
{% endblock %}

{% block _top_nav_logged_user_widget %}
    {% set attr = layout_attr_defaults(attr, {
        '~class': ' topbar-navigation__item topbar-navigation__item--user-name shown-on-desktop'
    }) %}

    <li {{ block('block_attributes') }}>
        {%- for child in block -%}
            {{- block_widget(child) -}}{%- if not loop.last %} {% endif -%}
        {%- endfor -%}
    </li>
{% endblock %}

{% block _top_nav_sign_out_item_widget %}
    {% set attr = layout_attr_defaults(attr, {
        '~class': ' topbar-navigation__item'
    }) %}

    <li {{ block('block_attributes') }}>
        {{- block_widget(block) -}}
    </li>
{% endblock %}

{% block _top_nav_my_customer_item_widget %}
    {% set attr = layout_attr_defaults(attr, {
        '~class': ' topbar-navigation__item shown-on-desktop'
    }) %}

    <li {{ block('block_attributes') }}>
        {{ block_widget(block) }}
    </li>
{% endblock %}

{% block _top_nav_sign_out_link_widget %}
    {% set attr = layout_attr_defaults(attr, {
        '~class': ' topbar-navigation__link',
        'href': path(route_name),
        'data-dom-relocation-options': {
            responsive: [
                {
                    viewport: 'tablet',
                    moveTo: '[data-customer-menu-container]'
                }
            ]
        }
    }) %}

    <a {{ block('block_attributes') }}>
        <span class="fa-sign-out" aria-hidden="true"></span> {{ text|trans -}}
    </a>
{% endblock %}

{% block _top_nav_my_customer_link_widget %}
    {% set attr = layout_attr_defaults(attr, {
        '~class': ' topbar-navigation__link'
    }) %}

    {{ block_widget(block, {attr: attr}) }}
{% endblock %}
