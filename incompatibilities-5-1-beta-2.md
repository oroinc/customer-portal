CustomerBundle
--------------
* The following classes were removed:
   - `OwnerTreeMessageFactory`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Model/OwnerTreeMessageFactory.php#L12 "Oro\Bundle\CustomerBundle\Model\OwnerTreeMessageFactory")</sup>
   - `Topics`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Async/Topics.php#L8 "Oro\Bundle\CustomerBundle\Async\Topics")</sup>
* The `AnonymousCustomerUserAuthenticationProvider::__construct(CustomerVisitorManager $visitorManager, WebsiteManager $websiteManager, $updateLatency)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Security/AnonymousCustomerUserAuthenticationProvider.php#L32 "Oro\Bundle\CustomerBundle\Security\AnonymousCustomerUserAuthenticationProvider")</sup> method was changed to `AnonymousCustomerUserAuthenticationProvider::__construct(CustomerVisitorManager $visitorManager, WebsiteManager $websiteManager)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/Security/AnonymousCustomerUserAuthenticationProvider.php#L21 "Oro\Bundle\CustomerBundle\Security\AnonymousCustomerUserAuthenticationProvider")</sup>
* The `FrontendOwnerTreeProvider::__construct(ManagerRegistry $doctrine, DatabaseChecker $databaseChecker, CacheInterface $cache, OwnershipMetadataProviderInterface $ownershipMetadataProvider, TokenStorageInterface $tokenStorage, MessageProducerInterface $messageProducer, OwnerTreeMessageFactory $ownerTreeMessageFactory)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Owner/FrontendOwnerTreeProvider.php#L44 "Oro\Bundle\CustomerBundle\Owner\FrontendOwnerTreeProvider")</sup> method was changed to `FrontendOwnerTreeProvider::__construct(ManagerRegistry $doctrine, DatabaseChecker $databaseChecker, CacheInterface $cache, OwnershipMetadataProviderInterface $ownershipMetadataProvider, TokenStorageInterface $tokenStorage, MessageProducerInterface $messageProducer)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/Owner/FrontendOwnerTreeProvider.php#L42 "Oro\Bundle\CustomerBundle\Owner\FrontendOwnerTreeProvider")</sup>
* The following methods in class `CustomerOwnershipConditionDataBuilder`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/ORM/Walker/CustomerOwnershipConditionDataBuilder.php#L52 "Oro\Bundle\CustomerBundle\ORM\Walker\CustomerOwnershipConditionDataBuilder")</sup> were changed:
  > - `getAclConditionData($entityClassName, $permissions)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/ORM/Walker/CustomerOwnershipConditionDataBuilder.php#L55 "Oro\Bundle\CustomerBundle\ORM\Walker\CustomerOwnershipConditionDataBuilder")</sup>
  > - `getAclConditionData($entityClassName, $permissions)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/ORM/Walker/CustomerOwnershipConditionDataBuilder.php#L52 "Oro\Bundle\CustomerBundle\ORM\Walker\CustomerOwnershipConditionDataBuilder")</sup>

  > - `getConstraintForAccessLevel(FrontendOwnershipMetadata $metadata, $accessLevel)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/ORM/Walker/CustomerOwnershipConditionDataBuilder.php#L90 "Oro\Bundle\CustomerBundle\ORM\Walker\CustomerOwnershipConditionDataBuilder")</sup>
  > - `getConstraintForAccessLevel(FrontendOwnershipMetadata $metadata, $accessLevel)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/ORM/Walker/CustomerOwnershipConditionDataBuilder.php#L81 "Oro\Bundle\CustomerBundle\ORM\Walker\CustomerOwnershipConditionDataBuilder")</sup>

* The `BusinessUnitMessageFactory::createMessage($jobId, $entityClass, $entityId)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Model/BusinessUnitMessageFactory.php#L43 "Oro\Bundle\CustomerBundle\Model\BusinessUnitMessageFactory")</sup> method was changed to `BusinessUnitMessageFactory::createMessage($jobId, $entityClass, $entityId)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/Model/BusinessUnitMessageFactory.php#L20 "Oro\Bundle\CustomerBundle\Model\BusinessUnitMessageFactory")</sup>
* The `CustomerVisitorManager::__construct(ManagerRegistry $doctrine)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Entity/CustomerVisitorManager.php#L18 "Oro\Bundle\CustomerBundle\Entity\CustomerVisitorManager")</sup> method was changed to `CustomerVisitorManager::__construct(ManagerRegistry $doctrine, $writeConnectionName = null)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/Entity/CustomerVisitorManager.php#L19 "Oro\Bundle\CustomerBundle\Entity\CustomerVisitorManager")</sup>
* The `BusinessUnitOwnerTreeCacheJobProcessor::__construct(JobRunner $jobRunner, FrontendOwnerTreeProvider $frontendOwnerTreeProvider, BusinessUnitMessageFactory $businessUnitMessageFactory, LoggerInterface $logger)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Async/BusinessUnitOwnerTreeCacheJobProcessor.php#L41 "Oro\Bundle\CustomerBundle\Async\BusinessUnitOwnerTreeCacheJobProcessor")</sup> method was changed to `BusinessUnitOwnerTreeCacheJobProcessor::__construct(JobRunner $jobRunner, FrontendOwnerTreeProvider $frontendOwnerTreeProvider, BusinessUnitMessageFactory $businessUnitMessageFactory)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/Async/BusinessUnitOwnerTreeCacheJobProcessor.php#L33 "Oro\Bundle\CustomerBundle\Async\BusinessUnitOwnerTreeCacheJobProcessor")</sup>
* The `OwnerTreeCacheJobProcessor::__construct(JobRunner $jobRunner, MessageProducerInterface $producer, ManagerRegistry $doctrine, OwnershipMetadataProviderInterface $ownershipMetadataProvider, BusinessUnitMessageFactory $businessUnitMessageFactory, OwnerTreeMessageFactory $ownerTreeMessageFactory, LoggerInterface $logger)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Async/OwnerTreeCacheJobProcessor.php#L61 "Oro\Bundle\CustomerBundle\Async\OwnerTreeCacheJobProcessor")</sup> method was changed to `OwnerTreeCacheJobProcessor::__construct(JobRunner $jobRunner, MessageProducerInterface $producer, ManagerRegistry $doctrine, OwnershipMetadataProviderInterface $ownershipMetadataProvider, BusinessUnitMessageFactory $businessUnitMessageFactory)`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.2/src/Oro/Bundle/CustomerBundle/Async/OwnerTreeCacheJobProcessor.php#L40 "Oro\Bundle\CustomerBundle\Async\OwnerTreeCacheJobProcessor")</sup>
* The `CustomerVisitorManager::updateLastVisitTime`<sup>[[?]](https://github.com/oroinc/customer-portal/tree/5.1.0-beta.1/src/Oro/Bundle/CustomerBundle/Entity/CustomerVisitorManager.php#L59 "Oro\Bundle\CustomerBundle\Entity\CustomerVisitorManager::updateLastVisitTime")</sup> method was removed.

